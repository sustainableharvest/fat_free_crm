-# - content_for :javascripts do
-#   = javascript_include_tag "app/views/samples/top_section.js.haml"

-# - binding.pry
= hook(:sample_top_section, self, :f => f) do
  .section
    %table
      %tr
        %td
          .label.req.top #{t :state}:
          = f.select :state, @state, :style => "width:110px"
        %td= spacer
        %td
          .label_bold #{t :pricing_type}:
          .radio_box_long.type_pricing
            = f.radio_button :pricing_type, "Spot", :checked => "checked", :class => "pricing", :value => "Spot"
            = f.label "Spot"
            %br
            = "Forward Pricing:"
            %br
            = f.radio_button :pricing_type, "Open", :class => "pricing", :value => "Forward"
            = f.label "Open"
            %br
            = f.radio_button :pricing_type, "Outright", :class => "pricing", :value => "Forward"
            = f.label "Outright"
        %td= spacer
        %td
          .label #{t :sample_shipment_date}:
          = f.text_field :shipment_date, :value => f.object.shipment_date, :style => "width:110px", :autocomplete => :off, :class => 'date'
        %td= spacer
        %td
          .label #{t :follow_up}:
          = f.text_field :follow_up_date, :value => f.object.follow_up_date, :style => "width:110px", :autocomplete => :off, :class => 'date'
      %tr
        %td
          .label.req #{t :sh_fee} #{t :currency}:
          = f.text_field :sh_fee, :style => "width:110px; text-align:right;"
        %td= spacer
        %td
          .label #{t :quoted_price}:
          = f.text_field :quoted_price
      %tr.field_pricing_spot
        %td
          .label_bold #{t :spot_pricing}:
      %tr.field_pricing_spot
        %td
          .label #{t :rits_id}:
          = select :sample, :rits_purchase_contract_id , @pc_names, {:include_blank => true}, { :style => "width:160px", :class => 'select2'}
      %tr.field_pricing_forward(style="display:none")
        %td
          .label_bold #{t :forward_pricing}:
      %tr.field_pricing_forward(style="display:none")
        %td
          .label #{t :producer}:
          = f.text_field :producer
        -# %td= spacer
        -# %td
        -#   .label #{t :differential} #{t :currency}:
        -#   = f.text_field :differential, :style => "width:110px; text-align:right;"
        %td= spacer
        %td
          .label #{t :delivery_date}:
          = f.text_field :delivery_month, :value => f.object.delivery_month, :style => "width:110px", :autocomplete => :off, :class => 'date' 
          -# = select_month(Date.today)
    -# %table
    -#   %tr
    -#     %td
    -#       .label #{t :description_input}:
    -#       = f.text_area :description, :style => "width:500px; height:120px"

:javascript
  $(document).ready(function() {
    $("input:radio[class=pricing]").change(function (){
        $(".field_pricing_forward").toggle();
      }
    })
  });